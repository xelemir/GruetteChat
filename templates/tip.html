<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
	<title>Tip {{ recipient }} | GrütteChat</title>
	<link rel="icon" href="https://xelemir.github.io/media/GrütteChat.png">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,200" />
	<link rel="stylesheet" href="../static/stylesheet.css">
	<link rel="stylesheet" href="{{ url_for('static', filename='stylesheet.css') }}" />
	<style>
		.centered-div {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			text-align: center;
			padding-top: 20px;
			height: auto;
			max-height: calc(100vh - 120px);
			overflow-y: auto;
		}

		@media (max-width: 768px) {
			.centered-div {
				max-width: 350px;
			}
		}

		@media (min-width: 768px) {
			.centered-div {
				max-width: 500px;
			}
		}
			
	</style>
</head>
<body>
	<div class="header">
		<div class="dark-mode-toggle">
			<a href="/chat/{{ recipient }}" class="white-button-blue-on-hover" title=""><span class="material-symbols-outlined">arrow_back_ios_new</span></a>&nbsp;&nbsp;&nbsp;&nbsp;
			<span id="darkModeToggle" class="material-symbols-outlined white-button-blue-on-hover" title="Darkmode">light_mode</span>
		</div>
		<div class="centered-content">
            <a href="/" class="logo" title="Home">
                <img src="https://xelemir.github.io/media/GrütteChat.png" style="width: 40px; height: 40px;" title="GrütteChat">
            </a>
        </div>
	</div>

	{% if error %}
        <div id="error-message" style="display: none;">
            <div class="wrapping-tile" style="text-align: center;">
                <div class="inner-tile" style="color: var(--yellow)">
                    {{ error }}
                </div>
            </div>
            <div class="spaced-tile"></div>
        </div>
    {% endif %}


	<div class="wrapping-tile centered-div" style="font-size: 13px; padding-left: 20px; padding-right: 20px; padding-top: 20px;">
		<div class="spaced-tile"></div>
        <h1>Enjoy talking to {{ recipient }}?</h1>
		<div class="spaced-tile"><br></div>
		<div class="inner-tile" style="margin-bottom: 0;">
            <p> Show your appreciation by tipping them.</p><br>
            <p> You can tip {{ recipient }} by clicking one of the buttons below.</p>
		</div>
		<div class="spaced-tile"><br></div>
        <div style="display: inline;">
            <button class="buy-now-button" style="width: 15%; margin: 10px; min-width: 80px;"><a href="/tip/{{ recipient }}/1" style="color: var(--white); text-decoration: none;">1€</a></button>
            <button class="buy-now-button" style="width: 15%; margin: 10px; min-width: 80px;"><a href="/tip/{{ recipient }}/2" style="color: var(--white); text-decoration: none;">2€</a></button>
            <button class="buy-now-button" style="width: 15%; margin: 10px; min-width: 80px;"><a href="/tip/{{ recipient }}/5" style="color: var(--white); text-decoration: none;">5€</a></button>
            <button class="buy-now-button" style="width: 15%; margin: 10px; min-width: 80px;"><a href="/tip/{{ recipient }}/10" style="color: var(--white); text-decoration: none;">10€</a></button>
        </div>
		<div class="spaced-tile"><br></div>
		<div style="text-align: center; font-size: 10px;">
			* We currently only accept PayPal as a payment method, sorry about that :/<br>
			All tips are non-refundable.<br>
            {{ recipient }} will be notified of your tip.
		</div>
		<div class="spaced-tile"></div>
	</div>
</body>
</html>

<script>
		// Dark mode toggle functionality
		var darkModeToggle = document.getElementById('darkModeToggle');
		var body = document.body;
		var isDarkMode = localStorage.getItem('darkMode');

		if (isDarkMode === 'true') {
				body.classList.add('dark-mode');
				document.documentElement.setAttribute('data-theme', 'dark');
				darkModeToggle.innerHTML = 'dark_mode'; // Change the inner HTML to the dark mode icon
		}

		darkModeToggle.addEventListener('click', function() {
				if (body.classList.contains('dark-mode')) {
						body.classList.remove('dark-mode');
						localStorage.setItem('darkMode', 'false');
						document.documentElement.setAttribute('data-theme', 'light');
						darkModeToggle.innerHTML = 'light_mode'; // Change the inner HTML to the light mode icon
				} else {
						body.classList.add('dark-mode');
						localStorage.setItem('darkMode', 'true');
						document.documentElement.setAttribute('data-theme', 'dark');
						darkModeToggle.innerHTML = 'dark_mode'; // Change the inner HTML to the dark mode icon
				}
		});

		darkModeToggle.style.cursor = 'pointer'; // Add this line to change the cursor to a pointer on hover
</script>
<script>
		// Show error message and fade out after 5 seconds
		var errorMessage = document.getElementById('error-message');
		{% if error %}
				errorMessage.style.display = 'block';
				setTimeout(function() {
						errorMessage.style.opacity = '0';
						setTimeout(function() {
								errorMessage.style.display = 'none';
								errorMessage.style.opacity = '1';
						}, 500);
				}, 5000);
		{% endif %}
</script>